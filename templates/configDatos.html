{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="csrf-token" content="{{ csrf_token }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" href="{% static 'app_instagram/img/logoinsta.ico' %}" type="image/ico">
    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram2 - Datos Cuenta</title>
</head>
<body class="d-flex justify-content-center align-items-center margin mt-5">
    <div class="w-50 h-50 position-center border border-5 p-3 rounded">
    
        <center><img src="{% static 'app_instagram\img\logousuario.png' %}" alt="" class="img-fluid w-25 h-25"></center>
        
        <center><h1 class="h3">Configuracion - Datos</h1></center>
        <div class="mb-3">
          <label for="nombre_usuario" class="form-label">Nombre de Usuario:</label>
          <label for="nombre_usuarioC" class="form-label" id="nombre_usuarioC">{{ nombre_usuario }}</label>
      </div>
      
      <div class="mb-3">
          <label for="nombre_personal" class="form-label">Nombre Personal:</label>
          <label for="nombre_personalC" class="form-label" id="nombre_personalC">{{ nombre_personal }}</label>
      </div>
      
      <div class="mb-3 mt-3">
          <label for="email" class="form-label">Correo Electrónico:</label>
          <label for="email" class="form-label" id="emailC">{{ correo }}</label>
      </div>
      
      <div class="mb-3">
          <label for="pwd" class="form-label">Contraseña:</label>
          <label for="contraseñaC" class="form-label" id="contraseñaC">********</label>
      </div>
      
            
            <center><a href="{% url 'config' %}"><p>Volver</p></a></center>
        </div>
</body>

<script>
    document.addEventListener('DOMContentLoaded', async function () {
      try {
        // Realiza la solicitud para obtener los datos del usuario
        const response = await fetch('/get_user_data/');
        const result = await response.json();
  
        if (result.status === 'success') {
          const data = result.data;
          // Rellena los campos con los datos obtenidos
          document.getElementById('nombre_usuarioC').textContent = data.nombre_usuario;
          document.getElementById('nombre_personalC').textContent = data.nombre_personal;
          document.getElementById('emailC').textContent = data.correo;
          document.getElementById('contraseñaC').textContent = data.contraseña;
        } else {
          alert('Error al cargar los datos del usuario: ' + result.message);
        }
      } catch (error) {
        console.error('Error al obtener datos del usuario:', error);
      }
    });
  </script>
</html>